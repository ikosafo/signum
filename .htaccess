# Enable Rewrite Engine
RewriteEngine On

# Ensure DirectoryIndex points to the public/index.php file
DirectoryIndex public/index.php

# Redirect all requests to index.php in the public folder
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ public/index.php [L,QSA]

# Handle common file types (optional, improves performance for assets)
<FilesMatch "\.(html|htm|js|css|jpg|jpeg|png|gif|ico|svg|woff|woff2|ttf|otf|eot|webp|mp4|ogg|ogv|webm|mp3|wav|txt|xml|json)$">
    Header set Cache-Control "max-age=2592000, public"
</FilesMatch>

# Prevent access to the .htaccess file itself
<Files .htaccess>
    Require all denied
</Files>
